<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Para o Meu Amor ğŸ’–</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <header>
        <h1>Isso Ã© pra quando VocÃª se sentir sozinha!</h1>
        <h2>â¤ï¸leia sempre que sentir saudadesâ¤ï¸</h2>
    </header>

    <main class="container">
        <section id="message-box" class="card">
            <h2>Clique no BotÃ£o Fofo!</h2>
            <p>Descubra quantas vezes e por que eu te amo...</p>
        </section>

        <button id="next-button" class="cute-button">
            Diga-me Por QuÃª! âœ¨
        </button>

        <p class="counter">Mensagem #<span id="message-counter">0</span></p>

    </main>

    <footer>
        <p>&copy; Feito para iorrany, meu amor eterno... ğŸ¥°</p>
    </footer>

    <script>
        // LÃ³gica de InteraÃ§Ã£o com JSON
        document.addEventListener('DOMContentLoaded', () => {
            const messageBox = document.getElementById('message-box');
            const nextButton = document.getElementById('next-button');
            const messageCounter = document.getElementById('message-counter');
            let currentIndex = 0;
            let messages = [];

            // 1. Carregar o JSON
            fetch('data.json')
                .then(response => response.json())
                .then(data => {
                    messages = data.messages;
                    messageCounter.textContent = '1';
                    // Exibe a primeira mensagem ao carregar
                    displayMessage(currentIndex);
                })
                .catch(error => {
                    messageBox.innerHTML = '<h2>Erro ao Carregar!</h2><p>Ops, algo deu errado. O JSON estÃ¡ aÃ­?</p>';
                    console.error('Erro ao carregar o JSON:', error);
                });

            // 2. FunÃ§Ã£o para exibir a mensagem
            const displayMessage = (index) => {
                if (messages.length === 0) return;

                const message = messages[index];
                
                // AnimaÃ§Ã£o de entrada e saÃ­da
                messageBox.classList.add('fade-out');
                
                setTimeout(() => {
                    messageBox.innerHTML = `
                        <h2>${message.title}</h2>
                        <p class="reason-text">${message.reason}</p>
                    `;
                    messageBox.classList.remove('fade-out');
                    messageBox.classList.add('fade-in');
                }, 300); // Espera a animaÃ§Ã£o de saÃ­da terminar
                
                // Atualiza o contador
                messageCounter.textContent = index + 1;

                // Checa se Ã© a Ãºltima mensagem
                if (index === messages.length - 1) {
                    nextButton.textContent = "Meu Amor Ã‰ Infinito! â¤ï¸";
                    nextButton.disabled = true;
                } else {
                    nextButton.textContent = "PrÃ³xima RazÃ£o! âœ¨";
                }
            };
            
            // 3. Evento do botÃ£o
            nextButton.addEventListener('click', () => {
                if (currentIndex < messages.length - 1) {
                    currentIndex++;
                    displayMessage(currentIndex);
                }
            });
        });
    </script>
</body>
</html>